<nav
  class="navbar navbar-expand-lg bg-body-tertiary bg-dark"
  data-bs-theme="dark"
  style="position: sticky; top: 0; z-index: 1000"
>
  <div class="container-fluid">
    <a class="navbar-brand" routerLink="/profiles-management">
      <i class="fa-solid fa-film"></i>
      Flixview
    </a>
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0 d-flex gap-2">
        <li class="nav-item" *ngIf="authenticatedUser.age > 17">
          <button
            class="nav-link"
            (click)="loadComponent('Horror')"
            [ngClass]="{
              'active btn btn-dark': actualListing == 'Horror'
            }"
          >
            Horror Movies
          </button>
        </li>
        <li class="nav-item">
          <button
            type="button"
            class="nav-link"
            [ngClass]="{
              'active btn btn-info': actualListing == 'Family'
            }"
            (click)="loadComponent('Family')"
          >
            Family Movies
          </button>
        </li>
        <li
          class="nav-item"
          *ngIf="authenticatedUser.fk_id_pla.type == 'Advanced'"
        >
          <button
            type="button"
            class="nav-link btn btn-success"
            (click)="loadComponent('Cartoon')"
            [ngClass]="{
              'active btn btn-success': actualListing == 'Cartoon'
            }"
          >
            Cartoon Movies
          </button>
        </li>
      </ul>

      <div class="dropstart">
        <li
          class="btn btn-outline-success dropdown dropdown-toggle drop-start"
          type="submit"
          data-bs-toggle="dropdown"
        >
          <i class="fa-regular fa-user"></i>
          &nbsp; {{ authenticatedUser.email }}
          <ul class="dropdown-menu">
            <li>
              <a
                class="dropdown-item"
                (click)="setUpdatedAuthenticatedUser()"
                routerLink="/account-management"
              >
                Manage Account
              </a>
            </li>
            <li>
              <a class="dropdown-item" routerLink="/profiles-management"
                >Manage Profiles</a
              >
            </li>
            <li><hr class="dropdown-divider" /></li>
            <li>
              <a class="dropdown-item text-danger" (click)="logout()">
                <i class="fa-solid fa-right-from-bracket"></i>
                Log Out
              </a>
            </li>
          </ul>
        </li>
      </div>
    </div>
  </div>
</nav>

<div class="container my-5 mx-auto" #dynamicComponentContainer>
  <div class="row text-center" *ngIf="actualListing == 'Horror'">
    <div
      *ngFor="let movie of moviesList"
      class="card col-4 mb-3"
      style="width: 18rem"
    >
      <img
        src="{{ movie.posterURL }}"
        class="card-img-top mt-2 rounded"
        alt="..."
      />
      <div class="card-body">
        <h5 class="card-title">{{ movie.title }}</h5>
        <!-- <p class="card-text">
          Some quick example text to build on the card title and make up the
          bulk of the card's content.
        </p> -->
        <a class="btn btn-primary">See this movie!</a>
      </div>
    </div>
  </div>
  <div class="row text-center" *ngIf="actualListing == 'Family'">
    <div
      *ngFor="let movie of moviesList"
      class="card col-4 mb-3"
      style="width: 18rem"
    >
      <img
        src="{{ movie.posterURL }}"
        class="card-img-top mt-2 rounded"
        alt="..."
      />
      <div class="card-body">
        <h5 class="card-title">{{ movie.title }}</h5>
        <!-- <p class="card-text">
          Some quick example text to build on the card title and make up the
          bulk of the card's content.
        </p> -->
        <a class="btn btn-primary">See this movie!</a>
      </div>
    </div>
  </div>
  <div class="row text-center" *ngIf="actualListing == 'Cartoon'">
    <div
      *ngFor="let movie of moviesList"
      class="card col-4 mb-3"
      style="width: 18rem"
    >
      <img
        src="{{ movie.image }}"
        class="card-img-top mt-2 rounded"
        alt="..."
      />
      <div class="card-body">
        <h5 class="card-title">{{ movie.title }}</h5>
        <!-- <p class="card-text">
          Some quick example text to build on the card title and make up the
          bulk of the card's content.
        </p> -->
        <a class="btn btn-primary">See this movie!</a>
      </div>
    </div>
  </div>
</div>
